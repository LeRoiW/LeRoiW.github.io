---
layout: post
title: C语言基础知识汇总
categories: Learn
tags: [C, C++]
---

## Part Ⅰ

### 一、C 语言数据的类型

1. 整数：char、short、int、long、long long(C99)
2. 浮点：float、double、long double(C99)
3. 逻辑：bool(C99)
   - 逻辑运算：与(&&)、或(\|\|)、非(\!)
   - 逻辑运算优先级：\!>&&>\|\|
   - **短路**：如果左边结果可以决定最终结果，则不会做右边的运算
4. 指针
5. 自定义类型
6. `sizeof()`：给出某个类型或变量再内存中所占据的字节数

   | 数据类型       | 字节数      | 范围                                                 |
   | :------------- | :---------- | :--------------------------------------------------- |
   | char           | 1 字节      | -128 到 127 或 0 到 255                              |
   | unsigned char  | 1 字节      | 0 到 255                                             |
   | signed char    | 1 字节      | -128 到 127                                          |
   | int            | 2 或 4 字节 | -32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647 |
   | unsigned int   | 2 或 4 字节 | 0 到 65,535 或 0 到 4,294,967,295                    |
   | short          | 2 字节      | -32,768 到 32,767                                    |
   | unsigned short | 2 字节      | 0 到 65,535                                          |
   | long           | 4 字节      | -2,147,483,648 到 2,147,483,647                      |
   | unsigned long  | 4 字节      | 0 到 4,294,967,295                                   |

7. **浮点存在误差**
8. 逃逸字符

   | 转义序列 | 含义                   |
   | :------- | :--------------------- |
   | \\0      | 空字符（null）         |
   | \\a      | ASCII 响铃符（BEL）    |
   | \\b      | ASCII 退格符（BS）     |
   | \\f      | ASCII 进纸符（FF）     |
   | \\n      | ACCLL 换行符（FL）     |
   | \\r      | ASCLL 回车符（CR）     |
   | \\t      | ASCLL 水平制表符（CR） |
   | \\v      | ASCLL 垂直制表符（VT） |
   | \\\\     | 反斜杠（\）            |
   | \\\'     | 单引号（'）            |
   | \\\"     | 双引号（"）            |
   | \\\?     | 问号（?）              |
   | \\0oo    | 值为八进制值 oo 的字符 |
   | \\xhh    | 值为十六进制值 hh 字符 |

### 二、输入输出

#### 2.1 printf()

1. printf()的转换说明

   | 转换说明 | 输出                                                                      |
   | :------- | :------------------------------------------------------------------------ |
   | %a       | 浮点数、十六进制数字和 p-记数法 (C99)                                     |
   | %A       | 浮点数、十六进制数字和 P-记数法 (C99)                                     |
   | %c       | 一个字符                                                                  |
   | %d       | 有符号十进制整数                                                          |
   | %e       | 浮点数、e-记数法                                                          |
   | %E       | 浮点数、E-记数法                                                          |
   | %f       | 浮点数，十进制记数法                                                      |
   | %g       | 根据数值不同自动选择%f 或者%e。%e 格式在指数小于-4 或者大于等于精度时使用 |
   | %G       | 根据数值不同自动选择%f 或者%E。%E 格式在指数小于-4 或者大于等于精度时使用 |
   | %i       | 有符号十进制整数 (与%d 相同)                                              |
   | %o       | 无符号八进制整数                                                          |
   | %p       | 指针(就是指地址)                                                          |
   | %s       | 字符串                                                                    |
   | %u       | 无符号十进制整数                                                          |
   | %x       | 使用十六进制数字 0f 的无符号十六进制整数                                  |
   | %X       | 使用十六进制数字 0F 的无符号十六进制整数                                  |
   | %%       | 打印一个百分号                                                            |

2. printf()的修饰符

   | 修饰符    | 意义                                                                                                                                                                                                                                                                                                                                                            |
   | :-------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | 标记      | 五种标记 (-、+、空格、# 和 0) 都将在表三中描述，可以使用零个或多个标记                                                                                                                                                                                                                                                                                          |
   | digit(s)  | 字段宽度的最小值。如果该字段不能容纳要打印的数或者字符串，系统会使用更宽的字段。示例：“%4d”                                                                                                                                                                                                                                                                     |
   | .digit(s) | 精度。对于%e、%E 和%f 转换，是将要在小数点的右边打印的数字的位数。对于%g 和%G 转换，是有效数字的最大位数。对于%s 转换，是将要打印的字符的最大数目。对于整数转换，是将要打印的数字的最小位数；如果必要，要使用前导零来达到这个位数。只使用“.”表示其后跟随一个零，所以%.f 与%.0f 相同。示例：“%5.2f”打印一个浮点数，他的字段宽度为 5 个字符，小数点后有两个数字。 |
   | h         | 和整数转换说明符一起使用，表示一个 short int 或者 unsigned short int 类型数值。示例：“%hu”、“%hx”和“%6.4hd”                                                                                                                                                                                                                                                     |
   | hh        | 和整数转换说明符一起使用，表示一个 signed char 或者 unsigned char 示例：“%hhu”、“%hhx”和“%6.4hhd”                                                                                                                                                                                                                                                               |
   | j         | 和整数转换说明符一起使用，表示一个 intmax_t 或 uintmax_t 值。 示例：“%jd”和“%8jX”                                                                                                                                                                                                                                                                               |
   | l         | 和整数说明符一起使用，表示一个 long int 或者 unsigned long int 类型值。 示例：“%ld”和“%8lu”                                                                                                                                                                                                                                                                     |
   | ll        | 和整数说明符一起使用，表示一个 long long int 或 unsigned long long int 类型值 (C99)。 示例：“%lld”和“%8llu”                                                                                                                                                                                                                                                     |
   | L         | 和浮点转换说明符一起使用，表示一个 long double 值。 示例：“%Lf”和“%10.4Le”                                                                                                                                                                                                                                                                                      |
   | t         | 和整数转换说明符一起使用，表示一个 ptrdiff_t 值(与两个指针之间的差相对应的类型) (C99) 示例：“%td”和“%12ti”                                                                                                                                                                                                                                                      |
   | z         | 和整数转换说明符一起使用，表示一个 size_t 值(sizeof 返回的类型) (C99)。 示例：“%zd”和“%12zx”                                                                                                                                                                                                                                                                    |

3. printf()中的标记

   | 标记   | 含义                                                                                                                                                                                                                               |
   | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | -      | 项目是左对齐的，也就是说，会把项目打印在字段的左侧开始处。示例：“%-20s”                                                                                                                                                            |
   | +      | 有符号的值若为正，则显示带加号的符号；若为负，则带减号的符号。示例：“%+6.2f”                                                                                                                                                       |
   | (空格) | 有符号的值若为正，则显示时带前导空格(但是不显示符号)；若为负，则带减号符号。+标志会覆盖空格标志。示例：“% 6.2f”                                                                                                                    |
   | #      | 使用转换说明的可选形式。若为%o 格式，则以 0 开始；若为%x 和%X 格式，则以 0x 或 0X 开始，对于所有的浮点形式，#保证了即使不限任何数字，也打印一个小数点字符。对于%g 和%G 格式，它防止尾随零被删除。示例：“%#o”、“%#8.0f”和“%+#10.3E” |
   | 0      | 对于所有的数字格式，用前导零而不是用空格填充字段宽度。如果出现-标志或者指定了精度(对于整数)则忽略该标志。示例：“%010d”和“%08.3f”                                                                                                   |

4. printf 返回打印字符的个数
5. `printf("%*.*f\n",width,precision,weight);`
   - printf()中的 **\*** 代替字段宽度，使用一个参数告诉函数字段宽度应该为多少
   - 上例中，weight 是待打印的参数，width、precision 分别对应两个\*，指定字段宽度和精度

#### 2.2 scanf()

1. scanf()的转换说明

   | 转换说明       | 含义                                                                                             |
   | :------------- | :----------------------------------------------------------------------------------------------- |
   | %c             | 把输入解释成一个字符                                                                             |
   | %d             | 把输入解释成一个有符号十进制整数                                                                 |
   | %e、%f、%g、%a | 把输入解释成一个浮点数 (%a 是 C99 标准)                                                          |
   | %E、%F、%G、%A | 把输入解释成一个浮点数 (%A 是 C99 标准)                                                          |
   | %i             | 把输入解释成一个有符号十进制整数                                                                 |
   | %o             | 把输入解释成一个有符号八进制数                                                                   |
   | %p             | 把输入解释成一个指针(地址)                                                                       |
   | %s             | 把输入解释成一个字符串；输入的内容以一个非空白字符作为开始，并且包含知道下一个空白字符的全部字符 |
   | %u             | 把输入解释成一个无符号十进制整数                                                                 |
   | %x、%X         | 把输入解释成一个有符号十六进制整数                                                               |

2. scanf()的转换修饰符

   | 修饰符    | 意 义                                                                                                                                                                                                                                                                                                                                                                                                                   |
   | :-------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | \*        | 滞后赋值。示例：“%\*d”                                                                                                                                                                                                                                                                                                                                                                                                  |
   | digit(s)  | 最大字段宽度；在达到最大字段宽度或者遇到第一个空白字符时(不管哪一个先发生都一样)停止对输入项的读取。示例：“%10s”                                                                                                                                                                                                                                                                                                        |
   | hh        | 把整数读作 signed char 或 unsigned char 。示例：“%hhd”“%hhu”                                                                                                                                                                                                                                                                                                                                                            |
   | ll        | 把整数读作 long long 或者 unsigned long long (C99)。示例：“%lld”“%llu”                                                                                                                                                                                                                                                                                                                                                  |
   | h，l 或 L | “%hd”和“hi”指示该值将会存储在一个 short int 中。 “%ho”“%hx”和“%hu”指示该值将会存储在一个 unsigned short int 中。 “%ld”和“%li”指示该值将会存储在一个 long 中。 “%lo”“%lx”和“%lu”指示该值将会存储在一个 unsigned long 中。 “%le”“%lf”和“%lg”指示该值以 double 类型存储。将 L(而非 l)与 e、f 和 g 一起使用指示该值以 long double 类型存储。 如果没有这些修饰符，d、i、o 和 x 指示 int 类型，而 e、f 和 g 指示 float 类型。 |
   | j         | 在整型转换说明后面时，表明使用 intmax_t 或 uintmax_t 类型(C99)。示例：“%zd”、“%zo”                                                                                                                                                                                                                                                                                                                                      |
   | z         | 在整型转换说明后面时，表明使用 sizeof 的返回类型                                                                                                                                                                                                                                                                                                                                                                        |
   | j         | 在整型转换说明后面时，表明使用表示两个指针差值的类型(C99)。示例：“%td”、“%tx”                                                                                                                                                                                                                                                                                                                                           |

3. `scanf("%*d %*d %d",&n);`
   - 把\*放在%和转换字符之间，如上例中，scanf()会跳过相应的输出项
4. scanf() 遇到第一个空白(Blank、Tab、return)时就不再读取输入
5. scanf(%d%c) 与 scanf(%d %c)的区别

   ```C
   scanf("%d %c",&i,&c);
   // 可以以0个或多个空白字符（空格、tab键、回车等）作为分隔符，同时%c不会读取空白字符，%c读取的一定是一个非空白字符
   // 输入1 a，读取的是1和a；
   // 输入2 b，读取的是2和b；
   // 输入3<回车> <回车>c，读取的是3和c。
   scanf("%d%c",&i,&c);
   // 会读取一个数和紧挨着这个数的一个字符（包括空白字符），如：
   // 输入1 a，读取的是1和' '（空格）；
   // 输入2b，读取的是2和b；
   // 输入3.a，读取的是3和.；
   // 输入3<回车>c，读取的是3和'\n'（回车）。
   ```

### 三、C 语言中的优先级

> 赋值<关系<算数  
> ▲ 赋值<||<&&<关系<算数<!

<table >
  <tbody>
    <tr>
      <th><p>优先级</p></th>
      <th><p>运算符</p></th>
      <th><p>名称或含义</p></th>
      <th><p>使用形式</p></th>
      <th><p>结合方向</p></th>
      <th><p>说明</p></th>
    </tr>
    <tr>
      <td rowspan="4"><p>1</p></td>
      <td><p>[]</p></td>
      <td><p>数组下标</p></td>
      <td><p>数组名[常量表达式]</p></td>
      <td rowspan="4"><p>左到右</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>()</p></td>
      <td><p>圆括号</p></td>
      <td><p>(表达式）/函数名(形参表)</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>.</p></td>
      <td><p>成员选择（对象）</p></td>
      <td><p>对象.成员名</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>-&gt;</p></td>
      <td><p>成员选择（指针）</p></td>
      <td><p>对象指针-&gt;成员名</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td rowspan="9"><p>2</p></td>
      <td><p>-</p></td>
      <td><p>负号运算符</p></td>
      <td><p>-表达式</p></td>
      <td rowspan="9"><p>右到左</p></td>
      <td rowspan="7"><p>单目运算符</p></td>
    </tr>
    <tr>
      <td><p>~</p></td>
      <td><p>按位取反运算符</p></td>
      <td><p>~表达式</p></td>
    </tr>
    <tr>
      <td><p>++</p></td>
      <td><p>自增运算符</p></td>
      <td><p>++变量名/变量名++</p></td>
    </tr>
    <tr>
      <td><p>--</p></td>
      <td><p>自减运算符</p></td>
      <td><p>--变量名/变量名--</p></td>
    </tr>
    <tr>
      <td><p>*</p></td>
      <td><p>取值运算符</p></td>
      <td><p>*指针变量</p></td>
    </tr>
    <tr>
      <td><p>&amp;</p></td>
      <td><p>取地址运算符</p></td>
      <td><p>&amp;变量名</p></td>
    </tr>
    <tr>
      <td><p>!</p></td>
      <td><p>逻辑非运算符</p></td>
      <td><p>!表达式</p></td>
    </tr>
    <tr>
      <td><p>(类型)</p></td>
      <td><p>强制类型转换</p></td>
      <td><p>(数据类型)表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>sizeof</p></td>
      <td><p>长度运算符</p></td>
      <td><p>sizeof(表达式)</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td rowspan="3"><p>3</p></td>
      <td><p>/</p></td>
      <td><p>除</p></td>
      <td><p>表达式/表达式</p></td>
      <td rowspan="3"><p>左到右</p></td>
      <td rowspan="3"><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>*</p></td>
      <td><p>乘</p></td>
      <td><p>表达式*表达式</p></td>
    </tr>
    <tr>
      <td><p>%</p></td>
      <td><p>余数（取模）</p></td>
      <td><p>整型表达式%整型表达式</p></td>
    </tr>
    <tr>
      <td rowspan="2"><p>4</p></td>
      <td><p>+</p></td>
      <td><p>加</p></td>
      <td><p>表达式+表达式</p></td>
      <td rowspan="2"><p>左到右</p></td>
      <td rowspan="2"><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>-</p></td>
      <td><p>减</p></td>
      <td><p>表达式-表达式</p></td>
    </tr>
    <tr>
      <td rowspan="2"><p>5</p></td>
      <td><p>&lt;&lt;&nbsp;</p></td>
      <td><p>左移</p></td>
      <td><p>变量&lt;&lt;表达式</p></td>
      <td rowspan="2"><p>左到右</p></td>
      <td rowspan="2"><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>&gt;&gt;&nbsp;</p></td>
      <td><p>右移</p></td>
      <td><p>变量&gt;&gt;表达式</p></td>
    </tr>
    <tr>
      <td rowspan="4"><p>6</p></td>
      <td><p>&gt;&nbsp;</p></td>
      <td><p>大于</p></td>
      <td><p>表达式&gt;表达式</p></td>
      <td rowspan="4"><p>左到右</p></td>
      <td rowspan="4"><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>&gt;=</p></td>
      <td><p>大于等于</p></td>
      <td><p>表达式&gt;=表达式</p></td>
    </tr>
    <tr>
      <td><p>&lt;&nbsp;</p></td>
      <td><p>小于</p></td>
      <td><p>表达式&lt;表达式</p></td>
    </tr>
    <tr>
      <td><p>&lt;=</p></td>
      <td><p>小于等于</p></td>
      <td><p>表达式&lt;=表达式</p></td>
    </tr>
    <tr>
      <td rowspan="2"><p>7</p></td>
      <td><p>==</p></td>
      <td><p>等于</p></td>
      <td><p>表达式==表达式</p></td>
      <td rowspan="2"><p>左到右</p></td>
      <td rowspan="2"><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>！=</p></td>
      <td><p>不等于</p></td>
      <td><p>表达式!= 表达式</p></td>
    </tr>
    <tr>
      <td><p>8</p></td>
      <td><p>&amp;</p></td>
      <td><p>按位与</p></td>
      <td><p>表达式&amp;表达式</p></td>
      <td><p>左到右</p></td>
      <td><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>9</p></td>
      <td><p>^</p></td>
      <td><p>按位异或</p></td>
      <td><p>表达式^表达式</p></td>
      <td><p>左到右</p></td>
      <td><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>10</p></td>
      <td><p>|</p></td>
      <td><p>按位或</p></td>
      <td><p>表达式|表达式</p></td>
      <td><p>左到右</p></td>
      <td><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>11</p></td>
      <td><p>&amp;&amp;</p></td>
      <td><p>逻辑与</p></td>
      <td><p>表达式&amp;&amp;表达式</p></td>
      <td><p>左到右</p></td>
      <td><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>12</p></td>
      <td><p>&#124;&#124;</p></td>
      <td><p>逻辑或</p></td>
      <td><p>表达式&#124;&#124;表达式</p></td>
      <td><p>左到右</p></td>
      <td><p>双目运算符</p></td>
    </tr>
    <tr>
      <td><p>13</p></td>
      <td><p>?：</p></td>
      <td><p>条件运算符</p></td>
      <td>
        <p>表达式1?表达式2: 表达式3</p>
      </td>
      <td><p>右到左</p></td>
      <td><p>三目运算符</p></td>
    </tr>
    <tr>
      <td rowspan="11"><p>14</p></td>
      <td><p>=</p></td>
      <td><p>赋值运算符</p></td>
      <td><p>变量=表达式</p></td>
      <td rowspan="11"><p>右到左</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>/=</p></td>
      <td><p>除后赋值</p></td>
      <td><p>变量/=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>*=</p></td>
      <td><p>乘后赋值</p></td>
      <td><p>变量*=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>%=</p></td>
      <td><p>取模后赋值</p></td>
      <td><p>变量%=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>+=</p></td>
      <td><p>加后赋值</p></td>
      <td><p>变量+=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>-=</p></td>
      <td><p>减后赋值</p></td>
      <td><p>变量-=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>&lt;&lt;=</p></td>
      <td><p>左移后赋值</p></td>
      <td><p>变量&lt;&lt;=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>&gt;&gt;=</p></td>
      <td><p>右移后赋值</p></td>
      <td><p>变量&gt;&gt;=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>&amp;=</p></td>
      <td><p>按位与后赋值</p></td>
      <td><p>变量&amp;=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>^=</p></td>
      <td><p>按位异或后赋值</p></td>
      <td><p>变量^=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>|=</p></td>
      <td><p>按位或后赋值</p></td>
      <td><p>变量|=表达式</p></td>
      <td><p>--</p></td>
    </tr>
    <tr>
      <td><p>15</p></td>
      <td><p>，</p></td>
      <td><p>逗号运算符</p></td>
      <td><p>表达式,表达式,…</p></td>
      <td><p>左到右</p></td>
      <td><p>--</p></td>
    </tr>
  </tbody>
</table>

### 四、函数

```C
#include <stdio.h>

// 函数声明
int max(int num1, int num2);
int main (void){
   // 局部变量定义
   int a = 100;
   int b = 200;
   int ret;

   // 调用函数来获取最大值
   ret = max(a, b);
   printf( "Max value is : %d\n", ret );
   return 0;
}
/* 函数返回两个数中较大的那个数 */
int max(int num1, int num2){
   /* 局部变量声明 */
   int result;
   if (num1 > num2)
      result = num1;
   else
      result = num2;
   return result;
}
// 返回类型：函数返回值的类型。void代表此函数不返回值，在这种情况下，不能使用带值的 return，可以没有 return
// 函数名称：这是函数的实际名称。函数名和参数列表一起构成了函数签名。
// 参数：参数就像是占位符。参数列表包括函数参数的类型、顺序、数量。参数是可选的
// 函数主体：函数主体包含一组定义函数执行任务的语句。
// 函数声明：函数头; -> 可以不写形参，只写数据类型
```

&emsp;每个函数都有自己的变量空间，相互独立；函数参数表中的参数叫做**形式参数**，调用时给的值叫做**实际参数**；  
函数的参数传递：传值(单向，实参 → 形参)，而不是传递变量。

&emsp;本地变量：函数的每次运行就会产生一个独立的变量空间，在这个空间中的变量，是函数这次运行所独有的，称为本地变量，也称为局部变量(定义在函数内部的变量就是本地变量)

> 生存期、作用域：大括号内——块  
> 块外边的变量在里边仍然有效  
> 块里面定义与与外面同名的参数会覆盖外面的  
> 不能在同一个块内定义同名变量  
> 本地变量不会被初始化

break:跳出，**终止循环**而**执行整个循环后边的语句**；在多层循环中，一个 break 只向外跳一层  
continue：**跳过**循环体中*剩余的语句*而**强制进入下一次循环**

### 五、数组

```C
type arrayName [arraySize];
// <元素类型>变量名称[元素数量(必须为整数)]
// 具有相同的数据类型
// 创建后无法改变大小
// 元素在内存中是连续排列的
```

1. 求数组元素数量：`sizeof(a)`/`sizeof(a[0])`
2. 数组变量本身不能被赋值
3. 数组的初始化

   ```C
   int a[10] = {1,2,3};
   // 只给a[0]-a[2]赋值，后边的自动补0
   // 当赋值元素数量小于总体元素数量的时候，剩余元素自动为 0
   int nums[10] = {0};
   // 所有均初始化为0

   //只能对元素逐个赋值，无法进行整体赋值

   int b[]={1,2,3};
   int b[3]={1,2,3};
   // 二者等价
   ```

4. `a[n++]=x;`
   - 赋值`a[n]=x;`
   - 执行`n++`使使指针右移指向下一个
5. 二维数组

   ```C
    int a[3][4]={ {0,1,2,3},{4,5,6,7},{8,9,10,11} };
    int a[3][4]={0,1,2,3,4,5,6,7,8,9,10,11};
    // 二者等价
    int b[3][3]={ {1},{2},{3} };
    // 对部分元素赋值，其他自动取0，{ {1,0,0},{2,0,0},{3,0,0} }

    // 二维数组可以分解为多个一维数组
    // a[3][4] => a[0],a[1],a[2]；其中a[0]含有a[0][0]~a[0][3]
    // 行号可以省略，列号不行
   ```

### 六、指针

#### 6.1 指针

&emsp;——**保存地址的变量**

- &：获得变量的地址，它的操作数必须是变量
- \*：表示变量是一个指针变量:比如`int *q`
- p 指向 i：p 的值等于 i 这个变量的**地址**
- 在`int *p;`后，p 是一个指针变量，它需要一个地址，即`p=&a;`
- 在非定义时使用\*p（如`printf("%d\n",*p)`中），\*用于取得 p 指向的地址上的数据
- 如果 p 是指向 a 的指针，则有：
  - `p == &a`
  - `a == *p`
  - `*&a` => `*(&a)` => `*p` => `a`
  - `&*p` => `&(*p)` => `&a` => `p`

指针的应用场景：

- 函数要返回多个值，某些只能通过指针
- 函数要返回运算的状态，结果用指针返回
- 常用：让函数返回特殊的不属于有效返回的值表示出错

#### 6.2 数组指针

1. 数组变量本身表达地址，所以：
   - `int a[10]; int *p=a;` 不需要用&取地址
   - `p=&a[i];` 数组单元表达的是变量，要用&取地址
   - `a == &a[0] == p;`
2. `[]`运算符可以对数组用，也可以对指针用：`p[i] == a[i]`
3. `*`运算符可以对数组用，也可以对指针用(可用`*(p+i)`和`*(arr+i)`访问数组元素)：`*a = 25`
4. 数组变量是 const 的指针，所以不能被赋值

指针的操作

- `p+1`：p 所指的地址+sizeof(type),即指向下一个变量
  - `int a[10]; int *p=a;` \*(p+1) -> a[1]
- 指针相减：`p-p1`为两个指针之间间隔的这两个指针类型的数目
  - ==(p 所指地址-p1 所指地址)/sizeof(type)
- `*p++`：取出 p 所指的数据，完事之后顺便将 p 移到下一个位置
- 指针的比较：地址的比较

&emsp;NULL 代表 0 地址，所以指针**不应该具有 0 值**  
&emsp;无论类型，所有指针的大小都应该相等，因为他们都是地址；但是不同类型的指针不能相互赋值

&emsp;`void *p`表示不知道指向什么类型东西的指针，计算时与`char *`相同  
&emsp;指针类型转换：`int *p=&i; void *q = (void *)p;`。并未改变 p 所指变量类型，而是通过 q 看 i

---

2022.06.21 笔记形成于 2019  
笔记记的太乱了，挪不动窝了
